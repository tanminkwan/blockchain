sequenceDiagram
    participant Offerer
    participant DHT_Server
    participant Answerer

    Offerer->>DHT_Server: Store Offer SDP and RSA Public Key (Key: "webrtc-offer")
    Note right of DHT_Server: Offer SDP stored

    Answerer->>DHT_Server: Retrieve Offer SDP (Key: "webrtc-offer")
    DHT_Server-->>Answerer: Send Offer SDP and RSA Public Key

    Answerer->>Answerer: Create Answer SDP
    Answerer->>DHT_Server: Store Answer SDP와 Answerer의 RSA Public Key (Key: "webrtc-answer")
    Note right of DHT_Server: Answer SDP stored

    Offerer->>DHT_Server: Retrieve Answer SDP (Key: "webrtc-answer")
    DHT_Server-->>Offerer: Send Answer SDP와 Offerer의 RSA Public Key

    Offerer->>Offerer: 트랜잭션 생성
    Note right of Offerer: 대칭키로 트랜잭션 암호화<br/>Answerer의 RSA Public Key로 대칭키 암호화
    
    Offerer->>Offerer: Establish WebRTC Connection
    Answerer->>Answerer: Establish WebRTC Connection

    Note over Offerer,Answerer: WebRTC Connection Established
    Offerer->>Offerer: Create Data Channel
    Offerer->>Answerer: Send 암호화된 대칭키와 트랜잭션 via Data Channel
    Answerer->>Offerer: Send 트랜잭션 수신 결과 via Data Channel
    Answerer->>Answerer: 트랜잭션 처리
    Answerer->>Offerer: Send 트랜잭션 처리 결과 via Data Channel

    Note over Offerer,Answerer: WebRTC Connection Terminated